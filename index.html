<!DOCTYPE html>
<html lang="tk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maks AI Chat</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>ü§ñ Maks AI Chat</h1>
<div id="chatbox"></div>
<div class="inputBox">
<input id="userInput" placeholder="Sorag √Ωaz..." onkeypress="if(event.key==='Enter'){sendMsg()}">
<button onclick="sendMsg()">Ugrat</button>
</div>
<script src="script.js"></script>
</body>
</html>  if(!text) return;
  addMsg("user", text);
  input.value = "";

  fetch("https://api.openai.com/v1/chat/completions", {
    method:"POST",
    headers:{
      "Content-Type":"application/json",
      "Authorization": `Bearer ${OPENAI_KEY}`
    },
    body: JSON.stringify({
      model: "gpt-4o-mini",
      messages: [{ role:"user", content:text }]
    })
  })
  .then(res => res.json())
  .then(data => {
    const reply = data.choices?.[0]?.message?.content || "Jogap tapylmady üòÖ";
    addMsg("bot", reply);
    speak(reply);
  })
  .catch(()=> addMsg("bot","‚ùå API bilen baglany≈üyk √Ωok."));
}

function addMsg(sender, text){
  const msg = document.createElement("div");
  msg.textContent = (sender==="user"?"Sen: ":"AI: ") + text;
  msg.className = sender==="user"?"msg user":"msg bot";
  chatbox.appendChild(msg);
  chatbox.scrollTop = chatbox.scrollHeight;
}

function speak(text){
  if('speechSynthesis' in window){
    const speech = new SpeechSynthesisUtterance(text);
    speech.lang='en-US'; speech.pitch=1; speech.rate=1; speech.volume=1;
    speechSynthesis.speak(speech);
  }
}
</script>
</body>
</html>
